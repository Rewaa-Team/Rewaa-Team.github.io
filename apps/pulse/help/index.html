<!doctype html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مساعدة TestFlight</title>
    
    <!-- Material Design CSS -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    
    <!-- IBM Plex Font -->
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    
    <style>
        * {
            font-family: 'IBM Plex Sans', sans-serif;
        }
        
        .header-space {
            height: 60px;
            background-color: #15888A;
            width: 100%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            box-sizing: border-box;
        }
        
        .header-title {
            color: white;
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 18px;
            font-weight: 500;
            margin: 0;
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .language-toggle {
            color: white;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 4px 8px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 500;
            transition: all 0.3s ease;
            flex-shrink: 0;
            min-width: 50px;
            text-align: center;
        }
        
        /* Mobile responsive adjustments */
        @media (max-width: 768px) {
            .header-space {
                padding: 0 10px;
            }
            
            .header-title {
                font-size: 16px;
                max-width: calc(100vw - 80px);
            }
            
            .language-toggle {
                font-size: 10px;
                padding: 3px 6px;
                min-width: 45px;
            }
        }
        
        @media (max-width: 480px) {
            .header-space {
                padding: 0 8px;
            }
            
            .header-title {
                font-size: 14px;
                max-width: calc(100vw - 70px);
            }
            
            .language-toggle {
                font-size: 9px;
                padding: 2px 5px;
                min-width: 40px;
                border-radius: 12px;
            }
        }
        
        .language-toggle:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .rtl {
            direction: rtl;
            text-align: right;
        }
        
        .rtl .header-space {
            direction: rtl;
        }
        
        .hidden {
            display: none;
        }
        
        body {
            margin: 0;
            padding-top: 60px;
            background-color: #f5f5f5;
        }
        
        .container {
            margin-top: 20px;
        }
        
        .card {
            margin-bottom: 20px;
        }
        
        .muted {
            color: #666;
        }
        
        .note {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
        }
        
        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 10px;
            font-family: 'IBM Plex Mono', monospace;
        }
        
        .btn {
            margin-right: 10px;
        }
        
        aside {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        footer {
            margin-top: 40px;
            padding: 20px 0;
            text-align: center;
        }
        
        .video-container {
            width: 100%;
            max-width: 350px; /* Better for vertical videos */
            margin: 0 auto;
        }
        
        .video-player {
            width: 100%;
            height: 600px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="header-space">
        <h1 class="header-title" data-en="Rewaa App Installation Help" data-ar="مساعدة تثبيت تطبيق ريوا">مساعدة تثبيت تطبيق ريوا</h1>
        <button class="language-toggle" id="langToggle" onclick="toggleLanguage()">English</button>
    </div>
    
    <div class="container">
        <div class="card">
            <div class="card-content">
                <h2 class="card-title" data-en="Why testers see a code prompt" data-ar="لماذا يرى المختبرون مطالبة بالرمز">Why testers see a code prompt</h2>
                <p class="muted" data-en="Public TestFlight links normally do <strong>not</strong> require a code. If a tester sees one, it's usually because the link token was lost before TestFlight received it." data-ar="روابط TestFlight العامة عادة <strong>لا</strong> تتطلب رمز. إذا رأى المختبر واحد، فعادة ما يكون بسبب فقدان رمز الرابط قبل وصوله إلى TestFlight.">Public TestFlight links normally do <strong>not</strong> require a code. If a tester sees one, it's usually because the link token was lost before TestFlight received it.</p>
                <ul class="collection">
                    <li class="collection-item" data-en="They opened the link in an in-app browser (Instagram, WhatsApp, Gmail). Those can strip the token." data-ar="فتحوا الرابط في متصفح داخل التطبيق (إنستغرام، واتساب، جيميل). هذه التطبيقات قد تحذف الرمز.">They opened the link in an in-app browser (Instagram, WhatsApp, Gmail). Those can strip the token.</li>
                    <li class="collection-item" data-en="They copied the link text and opened TestFlight manually instead of opening the link in Safari." data-ar="نسخوا نص الرابط وفتحوا TestFlight يدوياً بدلاً من فتح الرابط في Safari.">They copied the link text and opened TestFlight manually instead of opening the link in Safari.</li>
                    <li class="collection-item" data-en="The public link was accidentally disabled or re-generated in App Store Connect (rare)." data-ar="تم تعطيل الرابط العام عن طريق الخطأ أو إعادة إنشاؤه في App Store Connect (نادر).">The public link was accidentally disabled or re-generated in App Store Connect (rare).</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <div class="card-content">
                <h2 class="card-title" data-en="Quick instructions to send to testers" data-ar="تعليمات سريعة لإرسالها للمختبرين">Quick instructions to send to testers</h2>
                <ol class="collection">
                    <li class="collection-item" data-en="<strong>Open this link in Safari on your iPhone/iPad:</strong>" data-ar="<strong>افتح هذا الرابط في Safari على جهاز iPhone/iPad:</strong>"><strong>Open this link in Safari on your iPhone/iPad:</strong>
                        <pre id="join-link">https://testflight.apple.com/join/DuxES8Kr</pre>
                    </li>
                    <li class="collection-item" data-en="Tap <em>Start Testing</em>." data-ar="اضغط على <em>ابدأ الاختبار</em>.">Tap <em>Start Testing</em>.</li>
                    <li class="collection-item" data-en="If prompted, install the <strong>TestFlight app</strong> from the App Store first, then re-open the link." data-ar="إذا طُلب منك، قم بتثبيت تطبيق <strong>TestFlight</strong> من App Store أولاً، ثم أعد فتح الرابط.">If prompted, install the <strong>TestFlight app</strong> from the App Store first, then re-open the link.</li>
                    <li class="collection-item" data-en="If the link opened in another app, long-press the link and choose <em>Open in Safari</em>." data-ar="إذا انفتح الرابط في تطبيق آخر، اضغط مطولاً على الرابط واختر <em>فتح في Safari</em>.">If the link opened in another app, long-press the link and choose <em>Open in Safari</em>.</li>
                </ol>
            </div>
        </div>

        <div class="card">
            <div class="card-content">
                <div style="margin-top:12px">
                    <button class="btn waves-effect waves-light teal" id="copyBtn">
                        <i class="material-icons left">content_copy</i><span data-en="Copy link" data-ar="نسخ الرابط">Copy link</span>
                    </button>
                    <button class="btn waves-effect waves-light teal lighten-2" id="openSafariBtn">
                        <i class="material-icons left">open_in_new</i><span data-en="Open in Safari" data-ar="فتح في Safari">Open in Safari</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-content">
                <h2 class="card-title" style="margin-top:18px" data-en="If they still see &quot;Enter Code&quot;" data-ar="إذا كانوا لا يزالون يرون &quot;أدخل الرمز&quot;">If they still see "Enter Code"</h2>
                <div class="note">
                    <ul class="collection">
                        <li class="collection-item" data-en="There is <strong>no manual code</strong> for public links — the token is inside the URL (the `join/xxxxx` part)." data-ar="لا يوجد <strong>رمز يدوي</strong> للروابط العامة — الرمز موجود داخل الرابط (جزء `join/xxxxx`).">There is <strong>no manual code</strong> for public links — the token is inside the URL (the `join/xxxxx` part).</li>
                        <li class="collection-item" data-en="Check App Store Connect → <strong>TestFlight → External Testing</strong> and ensure the public link is enabled." data-ar="تحقق من App Store Connect → <strong>TestFlight → الاختبار الخارجي</strong> وتأكد من تفعيل الرابط العام.">Check App Store Connect → <strong>TestFlight → External Testing</strong> and ensure the public link is enabled.</li>
                        <li class="collection-item" data-en="Confirm you haven't reached the tester limit (usually 10,000)." data-ar="تأكد من أنك لم تصل إلى حد المختبرين (عادة 10,000).">Confirm you haven't reached the tester limit (usually 10,000).</li>
                        <li class="collection-item" data-en="If needed, re-copy the public link from App Store Connect and ask testers to use the fresh link." data-ar="إذا لزم الأمر، أعد نسخ الرابط العام من App Store Connect واطلب من المختبرين استخدام الرابط الجديد.">If needed, re-copy the public link from App Store Connect and ask testers to use the fresh link.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-content">
                <h2 class="card-title" style="margin-top:18px" data-en="Best practices for sharing" data-ar="أفضل ممارسات المشاركة">Best practices for sharing</h2>
                <ul class="collection">
                    <li class="collection-item" data-en="When sharing on chat apps or social media, add this short note: <br><em>&quot;Open this link in Safari — not inside other apps — to join TestFlight.&quot;</em>" data-ar="عند المشاركة في تطبيقات الدردشة أو وسائل التواصل الاجتماعي، أضف هذه الملاحظة القصيرة: <br><em>&quot;افتح هذا الرابط في Safari — وليس داخل تطبيقات أخرى — للانضمام إلى TestFlight.&quot;</em>">When sharing on chat apps or social media, add this short note: <br><em>"Open this link in Safari — not inside other apps — to join TestFlight."</em></li>
                    <li class="collection-item" data-en="Optionally shorten the link (e.g., bit.ly) but still tell testers to open the shortened URL in Safari." data-ar="اختيارياً، قصر الرابط (مثل bit.ly) لكن لا تزال تخبر المختبرين بفتح الرابط المقصر في Safari.">Optionally shorten the link (e.g., bit.ly) but still tell testers to open the shortened URL in Safari.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        <aside class="card">
            <div class="card-content">
                <h3 class="card-title" style="margin-top:0" data-en="Copy &amp; troubleshooting" data-ar="النسخ واستكشاف الأخطاء">Copy & troubleshooting</h3>
                <p class="muted" data-en="Buttons below help testers copy the link quickly or attempt to open it via Safari (on desktop clicking &quot;Open in Safari&quot; will simply open the link in a new tab)." data-ar="الأزرار أدناه تساعد المختبرين على نسخ الرابط بسرعة أو محاولة فتحه عبر Safari (على سطح المكتب، النقر على &quot;فتح في Safari&quot; سيفتح الرابط في علامة تبويب جديدة).">Buttons below help testers copy the link quickly or attempt to open it via Safari (on desktop clicking "Open in Safari" will simply open the link in a new tab).</p>
                <p style="margin-top:18px"><strong data-en="Contact" data-ar="التواصل">Contact</strong><br><span class="muted" data-en="If problems persist, collect a screenshot of the prompt and the exact URL they opened and send it to the app owner." data-ar="إذا استمرت المشاكل، اجمع لقطة شاشة للمطالبة والرابط الدقيق الذي فتحوه وأرسلها إلى مالك التطبيق.">If problems persist, collect a screenshot of the prompt and the exact URL they opened and send it to the app owner.</span></p>

                <h4 style="margin-top:18px" data-en="Shareable message (one-liner)" data-ar="رسالة قابلة للمشاركة (سطر واحد)">Shareable message (one-liner)</h4>
                <pre data-en="Open this link in Safari on your iPhone/iPad, then tap &quot;Start Testing&quot;:
https://testflight.apple.com/join/DuxES8Kr" data-ar="افتح هذا الرابط في Safari على جهاز iPhone/iPad، ثم اضغط على &quot;ابدأ الاختبار&quot;:
https://testflight.apple.com/join/DuxES8Kr">Open this link in Safari on your iPhone/iPad, then tap "Start Testing":
https://testflight.apple.com/join/DuxES8Kr</pre>
            </div>
        </aside>
    </div>

    <div class="container">
        <div class="card">
            <div class="card-content center-align">
                <h2 class="card-title" data-en="Video Help" data-ar="مساعدة الفيديو">Video Help</h2>
                <div class="video-container">
                    <video class="video-player" controls preload="metadata" playsinline>
                        <source src="video.mov" type="video/quicktime">
                        <source src="video.mov" type="video/mp4">
                        <p data-en="Your browser does not support the video tag. Please try a different browser or contact support." data-ar="متصفحك لا يدعم عنصر الفيديو. يرجى تجربة متصفح مختلف أو الاتصال بالدعم.">Your browser does not support the video tag. Please try a different browser or contact support.</p>
                    </video>
                </div>
            </div>
        </div>
    </div>

    <footer class="page-footer" style="background-color: #15888A;">
        <div class="container">
            <div class="center-align">
                <p class="white-text" style="margin: 0; padding: 20px 0;" data-en="All rights are reserved Rewaa Technology Company for Information Technology © 2025" data-ar="جميع الحقوق محفوظة لشركة ريوا التقنية لتقنية المعلومات © 2025">
                    All rights are reserved Rewaa Technology Company for Information Technology © 2025
                </p>
            </div>
        </div>
    </footer>

    <!-- Materialize JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
// Language switching functionality
let currentLanguage = 'ar'; // Changed default to Arabic

function toggleLanguage() {
    currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';
    
    // Update document attributes
    document.documentElement.setAttribute('lang', currentLanguage);
    document.body.className = currentLanguage === 'ar' ? 'rtl' : '';
    
    // Update all elements with data-en and data-ar attributes
    const elements = document.querySelectorAll('[data-en][data-ar]');
    elements.forEach(element => {
        const newText = element.getAttribute(`data-${currentLanguage}`);
        if (newText) {
            element.innerHTML = newText;
        }
    });
    
    // Update toggle button text
    const toggleBtn = document.getElementById('langToggle');
    toggleBtn.textContent = currentLanguage === 'en' ? 'عربي' : 'English';
    
    // Update alert messages for buttons
    if (currentLanguage === 'ar') {
        document.getElementById('copyBtn').onclick = async () => {
            try {
                await navigator.clipboard.writeText(linkText);
                alert('تم نسخ الرابط إلى الحافظة');
            } catch (e) {
                prompt('انسخ الرابط أدناه:', linkText);
            }
        };
    } else {
        document.getElementById('copyBtn').onclick = async () => {
            try {
                await navigator.clipboard.writeText(linkText);
                alert('Link copied to clipboard');
            } catch (e) {
                prompt('Copy the link below:', linkText);
            }
        };
    }
    
    // Store language preference
    localStorage.setItem('preferredLanguage', currentLanguage);
}

// Initialize page in Arabic by default
document.addEventListener('DOMContentLoaded', function() {
    // Set initial Arabic state
    document.documentElement.setAttribute('lang', 'ar');
    document.body.className = 'rtl';
    
    // Update all elements to Arabic
    const elements = document.querySelectorAll('[data-en][data-ar]');
    elements.forEach(element => {
        const arabicText = element.getAttribute('data-ar');
        if (arabicText) {
            element.innerHTML = arabicText;
        }
    });
    
    // Set toggle button to show "English"
    const toggleBtn = document.getElementById('langToggle');
    toggleBtn.textContent = 'English';
    
    // Check for saved preference (if user previously chose English)
    const savedLanguage = localStorage.getItem('preferredLanguage');
    if (savedLanguage === 'en') {
        toggleLanguage(); // Switch to English if previously saved
    }
});

// Original functionality
const linkText = document.getElementById('join-link').textContent.trim();

document.getElementById('copyBtn').addEventListener('click', async () => {
    try {
        await navigator.clipboard.writeText(linkText);
        const message = currentLanguage === 'ar' ? 'تم نسخ الرابط إلى الحافظة' : 'Link copied to clipboard';
        alert(message);
    } catch (e) {
        const message = currentLanguage === 'ar' ? 'انسخ الرابط أدناه:' : 'Copy the link below:';
        prompt(message, linkText);
    }
});

document.getElementById('openSafariBtn').addEventListener('click', () => {
    // On desktop this will open in a new tab. On iOS, users should long-press the original shared link
    // and choose "Open in Safari" from their app. We open a new window as a convenience.
    window.open(linkText, '_blank');
});
</script>
</body>
</html>
